<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<body>
	<ui:composition template="../basicTemplate.xhtml">

		<ui:define name="pageCSSElements"></ui:define>

		<ui:define name="pageScriptElements">
			<script type="text/javascript">
			<!--
				function openHelp() {
					window.open('disgregationsHelp.html');
				}
			//-->
			</script>
		</ui:define>

		<ui:define name="pageWellcomePhrase">
			<div style="margin-right: 60px; float: right;">
				<h:outputText value="#{i18nBundle.Wellcome}" />
				<p:spacer width="4" />
				<h:outputText value="#{disgregationListModel.userName}" />
			</div>
		</ui:define>

		<ui:define name="pageTrail">
			<h:outputLink value="pageTrail">Buscador</h:outputLink>
		</ui:define>

		<ui:define name="centerContent">
			<p:tabView id="tabsContainer" activeIndex="2"
				widgetVar="tabsContainer">
				<p:tab id="homeTab" title="#{i18nBundle.homeTabTitle}">
				</p:tab>
				<p:tab id="queriesTab" title="#{i18nBundle.queriesTabTitle}">
				</p:tab>

				<p:tab id="configurationTab"
					title="#{i18nBundle.configurationTabTitle}">
					<p:layout id="configurationTabLayout"
						styleClass="configurationLayout" style="min-height: 560px;">

						<p:layoutUnit id="centerLayoutUnit" position="center">
							<h:form id="createStockForm" style="width=100%">
								<!-- <h:inputHidden id="stockId"
			 value="#{createDisgregationModel.disgregationId}" /> -->
								<p:spacer height="12px" width="100%" />
								<p:focus for="nameField" />
								<p:messages id="messagesDiv" autoUpdate="true" />

								<p:fieldset id="mainDataFieldset" legend="Create Stock">
									<h:panelGrid columns="2">
										<h:column>
											<h:outputLabel
												value="#{i18nBundle.createStock_codeField_label}"
												style="margin-right: 12px;">:</h:outputLabel>
										</h:column>
										<h:column>
											<p:inputText id="codeField"
												label="#{i18nBundle.createStock_codeField_label}"
												value="#{stockModel.code}"
												readonly="#{stockModel.readOnlyName}" size="45"
												maxlength="45" />
										</h:column>
										<h:column>
											<h:outputLabel
												value="#{i18nBundle.createStock_nameField_label}"
												style="margin-right: 12px;">:</h:outputLabel>
										</h:column>
										<h:column>
											<p:inputText id="nameField"
												label="#{i18nBundle.createStock_nameField_label}"
												value="#{stockModel.name}" size="45" maxlength="45" />
										</h:column>
										<h:column>
											<h:outputLabel
												value="#{i18nBundle.createStock_marketField_label}"
												style="margin-right: 12px;">:</h:outputLabel>
										</h:column>
										<h:column>
											<p:selectOneMenu id="marketField"
												value="#{stockModel.selectedMarket}">
												<f:selectItems value="#{CMRStockController.marketList}"
                                         var="market" itemValue="#{market.id}" itemLabel="#{market.code}" />

											</p:selectOneMenu>
										</h:column>
									</h:panelGrid>
								</p:fieldset>

								<p:spacer height="12px" width="100%" />
								<p:commandButton id="acceptButton" value="Accept"
									icon="ui-icon-check" action="#{CMRStockController.createStock}"
									update="@form" />
								<p:spacer width="12px" />
								<p:dialog header="Selected Movies" modal="true" showEffect="fade" hideEffect="fade" widgetVar="dlg" resizable="false">  
        						<p:dataList id="display" value="#{stockModel.selectedMarket}" var="movie">  
            						#{movie}  
        						</p:dataList>  
    							</p:dialog>
							</h:form>
						</p:layoutUnit>
					</p:layout>
				</p:tab>

				<p:tab id="administrationTab"
					title="#{i18nBundle.administrationTabTitle}">
				</p:tab>
			</p:tabView>
		</ui:define>

	</ui:composition>
</body>
</html>